[a]

description = "Basic config"
default = true

exec = "python train.py"

sourcecode = ["*.py", "*.yaml", "-*.tmp.*"]
config = "config.yaml"

[b]

description = "Config as list of keys"

config = [
  "config.yaml#lr",
  "config.yaml#epochs"
]

[c]

description = "Config as include/exclude patterns"

config = [
  "config/*.yaml",
  "-config/example.yaml"
]

[d]

description = "Phase-specific exec"

[d.exec]

stage-sourcecode = """
cp -r src $run_dir/src
cp pyproject.toml $run_dir
"""

stage-runtime = """
virtualenv venv
venv/bin/pip install .
"""

run = """
venv/bin/python python -m myapp
"""

[e]

description = "Complex config"

[[e.config]]

name = "train.{}"
path = "train.py"

[[e.config]]

name = "eval.{}"
paths = [
  "eval.py",
  "-eval.py#priv*"
]

[f]

description = "Disabled sourcecode"
sourcecode = false

[g]

description = "Disabled sourcecode v2"
sourcecode = []

[h]

description = "Default source code rules"
sourcecode = true
